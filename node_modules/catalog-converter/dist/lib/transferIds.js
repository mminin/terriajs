"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function transferIds(json, ids) {
    var replacements = {};
    var traverseMembers = function (members, replace, path) {
        if (replace === void 0) { replace = false; }
        if (path === void 0) { path = "root"; }
        members.forEach(function (member) {
            var _a;
            var replaceId = replacements[path + "/" + member.name];
            if (replace && replaceId && replaceId !== member.id) {
                console.log("Replaced ID " + member.id + " with " + replaceId);
                member.id = replaceId;
            }
            else if (member.id && !replacements[path + "/" + member.name]) {
                replacements[path + "/" + member.name] = member.id;
            }
            var children = (_a = member.members) !== null && _a !== void 0 ? _a : member.items;
            if (Array.isArray(children)) {
                traverseMembers(children, replace, path + "/" + member.name);
            }
        });
    };
    traverseMembers(ids);
    traverseMembers(json, true);
}
exports.transferIds = transferIds;
//# sourceMappingURL=transferIds.js.map